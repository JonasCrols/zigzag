<!DOCTYPE html>
<html  lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1"><meta name="generator" content="Docutils 0.19: https://docutils.sourceforge.io/" />

      <title>Getting Started</title>
    
          <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
          <link rel="stylesheet" href="_static/theme.css " type="text/css" />
      
      <!-- sphinx script_files -->
        <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script src="_static/doctools.js"></script>

      
      <!-- bundled in js (rollup iife) -->
      <!-- <script src="_static/theme-vendors.js"></script> -->
      <script src="_static/theme.js" defer></script>
    
  <link rel="index" title="Index" href="genindex.html" />
  <link rel="search" title="Search" href="search.html" />
  <link rel="next" title="Stages" href="stages.html" />
  <link rel="prev" title="Installation" href="installation.html" /> 
  </head>

  <body>
    <div id="app">
    <div class="theme-container" :class="pageClasses"><navbar @toggle-sidebar="toggleSidebar">
  <router-link to="index.html" class="home-link">
    
      <span class="site-name">zigzag</span>
    
  </router-link>

  <div class="links">
    <navlinks class="can-hide">



    </navlinks>
  </div>
</navbar>

      
      <div class="sidebar-mask" @click="toggleSidebar(false)">
      </div>
        <sidebar @toggle-sidebar="toggleSidebar">
          
          <navlinks>
            



            
          </navlinks><div id="searchbox" class="searchbox" role="search">
  <div class="caption"><span class="caption-text">Quick search</span>
    <div class="searchformwrapper">
      <form class="search" action="search.html" method="get">
        <input type="text" name="q" />
        <input type="submit" value="Search" />
        <input type="hidden" name="check_keywords" value="yes" />
        <input type="hidden" name="area" value="default" />
      </form>
    </div>
  </div>
</div><div class="sidebar-links" role="navigation" aria-label="main navigation">
  
    <div class="sidebar-group">
      <p class="caption">
        <span class="caption-text"><a href="index.html#welcome-to-zigzag-s-documentation">Contents:</a></span>
      </p>
      <ul class="current">
        
          <li class="toctree-l1 ">
            
              <a href="zigzag.html" class="reference internal ">Zigzag Framework</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="installation.html" class="reference internal ">Installation</a>
            

            
          </li>

        
          <li class="toctree-l1 current">
            
              <a href="#" class="reference internal current">Getting Started</a>
            

            
              <ul>
                
                  <li class="toctree-l2"><a href="#first-run" class="reference internal">First run</a></li>
                
                  <li class="toctree-l2"><a href="#analyzing-results" class="reference internal">Analyzing results</a></li>
                
              </ul>
            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="stages.html" class="reference internal ">Stages</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="hardware.html" class="reference internal ">Hardware Architecture Definition</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="mapping.html" class="reference internal ">Mapping</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="contribute.html" class="reference internal ">Contribute to this project</a>
            

            
          </li>

        
      </ul>
    </div>
  
</div>
        </sidebar>

      <page>
          <div class="body-header" role="navigation" aria-label="navigation">
  
  <ul class="breadcrumbs">
    <li><a href="index.html">Docs</a> &raquo;</li>
    
    <li>Getting Started</li>
  </ul>
  

  <ul class="page-nav">
  <li class="prev">
    <a href="installation.html"
       title="previous chapter">← Installation</a>
  </li>
  <li class="next">
    <a href="stages.html"
       title="next chapter">Stages →</a>
  </li>
</ul>
  
</div>
<hr>
          <div class="content" role="main" v-pre>
            
  <section id="getting-started">
<h1>Getting Started<a class="headerlink" href="#getting-started" title="Permalink to this heading">¶</a></h1>
<p>Zigzag is a very powerful and versatile tool. It can be used to estimate and optimize the HW cost of running a DL workload on a given HW design under a multitude of constraints and settings.</p>
<p>As a first step, we use it to automatically optimize the way a NN is mapped onto a HW design.</p>
<section id="first-run">
<h2>First run<a class="headerlink" href="#first-run" title="Permalink to this heading">¶</a></h2>
<p>The NN we are going to use for this first run is AlexNet. We provide an <a class="reference external" href="https://onnx.ai/">onnx</a> model of this network in <code class="docutils literal notranslate"><span class="pre">inputs/examples/workloads/alexnet_inferred.onnx</span></code>. The model has been shape inferred, which means that besied the input and output tensor shapes, all intermediate tensor shapes have been inferred, which is information required by zigzag.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Zigzag requires an inferred onnx model, as it needs to know the shapes of all intermediate tensors to correclty infer the layer shapes. You can find more information on how to infer an onnx model <a class="reference external" href="https://github.com/onnx/onnx/blob/main/docs/PythonAPIOverview.md#running-shape-inference-on-an-onnx-model">here</a>.</p>
</div>
<p>The hardware we will accelerate the inference of AlexNet with, is a TPU-like architecture defined in <code class="docutils literal notranslate"><span class="pre">inputs/examples/hardware/TPU_like.py</span></code>.</p>
<p>Besides the workload and HW architecture, a mapping file must be provided which, as the name suggests, provides information on how the network’s layers will be mapped onto the hardware resources. The mapping is provided in <code class="docutils literal notranslate"><span class="pre">inputs/examples/mapping/alexnet_on_tpu_like.py</span></code>.</p>
<p>The framework is generally ran through a main file which parses the provided inputs and contains the program flow through the stages defined in the main file.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>You can find more information in the <a class="reference internal" href="stages.html"><span class="doc">Stages</span></a> document.</p>
</div>
<p>The following command starts the execution using the provided inputs:</p>
<div class="highlight-sh notranslate"><div class="highlight"><pre><span></span>python main_onnx.py --model inputs/examples/workloads/alexnet_inferred.onnx --accelerator inputs.examples.hardware.TPU_like --mapping inputs.examples.mapping.alexnet_on_tpu_like
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Note the difference in input path construction between the onnx model and the accelerator and mapping. This is because the accelerator and mapping objects are defined in their respective files and imported as python modules.</p>
</div>
</section>
<section id="analyzing-results">
<h2>Analyzing results<a class="headerlink" href="#analyzing-results" title="Permalink to this heading">¶</a></h2>
<p>During the run, results will be saved depending on the <code class="docutils literal notranslate"><span class="pre">dump_filename_pattern</span></code> provided in the main file. In total, five result files are saved, one for each supported onnx node the <code class="docutils literal notranslate"><span class="pre">ONNXModelParserStage</span></code> parsed (supported meaning it can be accelerated on one of the accelerator cores). Each result file contains the optimal energy and latency of running the onnx node on the core to which it was mapped through the <code class="docutils literal notranslate"><span class="pre">mapping</span></code> input file. Optimality is defined through the <code class="docutils literal notranslate"><span class="pre">MinimalLatencyStage</span></code>, for more information we refer you to <a class="reference internal" href="stages.html"><span class="doc">Stages</span></a>.</p>
</section>
</section>


          </div>
          <div class="page-nav">
            <div class="inner"><ul class="page-nav">
  <li class="prev">
    <a href="installation.html"
       title="previous chapter">← Installation</a>
  </li>
  <li class="next">
    <a href="stages.html"
       title="next chapter">Stages →</a>
  </li>
</ul><div class="footer" role="contentinfo">
      &#169; Copyright 2022, Arne Symons.
    <br>
    Created using <a href="http://sphinx-doc.org/">Sphinx</a> 5.1.1 with <a href="https://github.com/schettino72/sphinx_press_theme">Press Theme</a> 0.8.0.
</div>
            </div>
          </div>
      </page>
    </div></div>
    
    
  </body>
</html>